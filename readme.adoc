= A helm chart to deploy Red Hat Build of Keycloak (RH-BK) through Red Hat Keycloak Operator

Use this repo as start point to deploy RHBK on Openshift using Operator. 

Take a time to try out examples at `example` folder.

To try out one example:
```bash
git clone https://github.com/gilvansfilho/rhbk-helm
cd rhbk-helm
helm template -f examples/deploy-operator.yaml .
helm template -f examples/simple-example.yaml .
```

NOTE: You must have installed the helm CLI

== Available examples:

[cols="2,4",options=header]
|===
|Example
|Description

| additional-options-example.yaml
| A example showing how to pass additional options as exposed at https://access.redhat.com/documentation/pt-br/red_hat_build_of_keycloak/24.0/html-single/operator_guide/index#advanced-configuration-additional-options[Additional options,window=_blank]

| custom-image-example.yaml
| A example showing how to use a custom rhbk image. See https://access.redhat.com/documentation/pt-br/red_hat_build_of_keycloak/24.0/html-single/operator_guide/index#customizing-keycloak-red-hat-build-of-keycloak-custom-image-with-the-operator[Red Hat build of Keycloak custom image with the Operator,window=_blank]

| database-example.yaml
| A example showing how to set database configuration creating a secret to keep username and password. Values must be base64 encoded 

| deploy-operator.yaml
| A example showing how to deploy the operator. You can skip that and install operator manually if you wish

| features-example.yaml
| A example showing how to enable or disable features as exposed at https://access.redhat.com/documentation/pt-br/red_hat_build_of_keycloak/24.0/html-single/operator_guide/index#advanced-configuration-server-configuration-details[Server configuration details,window=_blank]

| simple-example.yaml
| A example showing the most simple config.

| tls-cluster-domain-example.yaml
| A example showing how to deploy a RHBK instance using hostname with cluster domain and using a tls secret generated by Openshift through service serving certificates mechanism. In that example are not possible to use strict hostname once pod will use certificate with `*.<service.name>.<service.namespace>.svc` format. A `reencrypt` route not managed by Operator will be created.

| tls-strict-hostname-example.yaml
| A example showing how to deploy a RHBK instance using strict hostname with custom domain and certificate provided by a secret (tlsSecret.crt and tlsSecret.key should be base64 encoded pem files). A `passthrough` route managed by Operator will be created.

|===
WARNING: When changing templates and examples run `./test-examples.sh` to check if nothing was broken

WARNING: Tested with that helm version  `version.BuildInfo{Version:"v3.14.4", GitCommit:"81c902a123462fd4052bc5e9aa9c513c4c8fc142", GitTreeState:"clean", GoVersion:"go1.22.2"}`